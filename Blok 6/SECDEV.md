Aan het eind van de training ontvang je een email met instructies voor het doen van het examen!
### Secure Programming Foundation
Hoofdoel programma: Bewustwording van veilig programmeren

Security: The state of being free from danger or threat

Authentication: Wie je bent
Autorisatie: Wat je mag

DDOS: Distributed Denial Of Service

Model for threads (potential attack): STRIDE
- Spoofing: Doet alsof je iets of iemand anders bent (ik ben donald trump)
- Tempering: Ongeoorloofd code/files wijzigen of verwijderen zonder authorization.
- Repudiation: Het kunnen ontkennen van een actie van de gebruiker.
- Information disclosure: Wanneer gevoelige gegevens per ongeluk worden vrijgegeven  
- Denial of service: Cyber aanval waardoor een server niet meer beschikbaar is.
- Elevation of privilege: Wanneer een gebruiker rechten verkrijgt die niet zou mogen. (Als het lukt om admin te worden ergens?)

Man In The Middle Proxy: is een tussenstation in netwerkverkeer, dat verkeer onderschept tussen twee partijen, zoals een client en een server. Het kan data inspecteren, wijzigen en doorsturen zonder dat de oorspronkelijke zenders en ontvangers dit weten.

Cross-Site Request Forgery (CSRF): Gebruiker dwingen statuswijzigingen uit te voeren zoals overboekingen, wijzigen gegevens, etc. An authorized user performs a request (post for example) from a hacker.
CSRF Token: AKA: NONCE: is a unique, secret, and unpredictable value that is generated by the server-side application and shared with the client. When attempting to perform a sensitive action, such as submitting a form, the client must include the correct CSRF token in the request. This makes it very difficult for an attacker to construct a valid request on behalf of the victim.

Cross-Site Scripting (XSS): Script injecteren! An attack in which an attacker injects malicious executable scripts into the code of a trusted application or website. Simpel gezegd; ergens code plaatsen waar data wordt verwacht.
Dit kan zitten in email, url, sql, text file, pdf, http response headers, XML. 
Stored XSS: Een script in de database zetten bijvoorbeeld die in de toekomst uitgevoerd wordt.
Reflected XSS: Een script importeren in een website waar een gebruiker gevoelige gegevens invoert.

Referer: The **`Referer`** HTTP request header contains the absolute or partial address from which a resource has been requested. The `Referer` header allows a server to identify referring pages that people are visiting from or where requested resources are being used.
```HTTP
Referer: https://developer.mozilla.org/en-US/docs/Web/JavaScript
Referer: https://example.com/page?q=123
Referer: https://example.com/
```

HTTP response:
- 200: Ok
- 300: Redirects
- 400: Client error
- 500: Server error

Browser security model:
SOP: Same Origin Policy 
CORS: Cross Origin Resource Sharing

Same-origin (zelfde server) request: 
- Wordt bepaald bij de eerste get request naar website
- Beschermd gebruik tegen cross origin. (mastercard aanval voorbeeld)
- Mag niet cross-origin (van een andere server) data ophalen
- POST mag altijd naar een andere origin! Hier zit ook gevaar met die bank transacties. Gebruik dus CSRF Tokens/NONCE

Cross-origin:
- Is een header (zet bescherming uit)
- This enables server to specify other origins die data mogen ophalen van de website
- acces-control-allow-origin: *
### Cookies:
HttpOnly: The cookie attribute can't be accessed by javascript. Helpt bij XSS.
Secure: Kan alleen over HTTPS verstuurd worden
```js
res.cookie(number, 123) {
	expires: new Date(Date.now() + 900000)
	HttpOnly: true, // kan niet met javascript client side worden uitgelezen. Extra beveiliging.
	secure: true // alleen over https
}
```
Domain: Waar de cookies nog meer heen kan worden gestuurd. Het liefst leeg houden

Password salting: Technique to make offline cracking more difficult.

Salting: helps defend against attacks that use precomputed tables (rainbow tables), by vastly growing the size of table needed for a successful attack. It also helps protect passwords that occur multiple times in a database, as a new salt is used for each password instance.

Session-based authentication:
- Stored on server
- Cookie met een sessionid.
- Session id used to authenticate (should kept secret)
- Session id send with every request(get, post, cookie)
- Cookie is the most secure 
- Generates a new session id after logging in (always a new one)
- Deletes session data when session terminates
- Keep session id private
- Make session id unpredictable

Token-based authentication:
- Stored in browser

Onderstaand moet je niet vrijgeven aan de gebruiker in de header:
X-Powered-By: Express

SQL Injection:
- Solution 1: Parameterized Queries: Technique to separate the SQL query from the user input values
	- Object Relation Mappers(ORM): Invented for convenience (maar kijk uit)
	- Stored procedures (maar kijk uit)
- Solution 2: Input validation (accept or reject certain input | allow- blok list)
- Solution 3: Escaping 
	- metacharacters are preceded by a another character: called the escape character

regular expressions == Regex:
- for client side validation

Clickjacking: an attack that fools users into thinking they are clicking on one thing when they are actually clicking on another.
- Gebruik hiertegen X-Frame-Options HTTP Header (deny/sameorigin)
```js
 res.setHeader("X-Frame-Options", "DENY")
```

Cryptography used for:
- Confidentiality (encryption)
- integrity (checksums, hashing)
- authentication (signing)
- non-repudiation (signing)

**Kerckhoff principle**: A cryptosystem should be secure even if everything about the system, expect the key, is public knowledge (open source). 
6 principles of Kerckhoff:
1. The system must be practically, if not mathematically, indecipherable; (hard to crack. strong security)
2. It must not be required to be secret, and it must be able to fall into the hands of the enemy without inconvenience; 
3. Its key must be communicable and retainable without the help of written notes, and changeable or modifiable at the will of the correspondents; (manageable keys)
4. It must be compatible with the means of communication; (communication compatability)
5. It must be portable, and its usage and function must not require the concourse of several people;
6. Finally, it is necessary, given the circumstances that command its application, that the system be easy to use, requiring neither mental strain nor the knowledge of a long series of rules to observe. (user friendly)

Symmetric crypto: same (secret) key is shared between parties
Asymmetric crypto: public key and private key voor elke gebruiker.

input decoderen then first decode, then validate. 

Authorization -> wat mag jij
unauthorized object excess: 

Indirect referencing: Je wilt niet database id's uit de html kunnen halen, gebruik dus indirect referencing. Puzzelstukje voor de hacker.

Timing attack: discover vulnerabilities by studying how long it takes the system to respond to different (login) inputs. 

Hardening: Securing a system by changing configuration and installation.

A web app can leak info from:
- server headers
- stack traces (debug info)
- directory index (/wp-admin wordpress)
- comments in HTML pages
- version management

Maturity model: In hoeverre mijn systeem/aspect volwassen is in security:
- BSIMM 
- OpenSAMM

Methods used to test security:
- Attack and penetration test
- Vulnerability test
- Traditional test methods
- Fuzzing (ongeldige data invoeren)

a **side-channel attack** is any attack based on extra information that can be gathered because of the fundamental way a [computer protocol](https://en.wikipedia.org/wiki/Computer_protocol "Computer protocol") or [algorithm](https://en.wikipedia.org/wiki/Algorithm "Algorithm") is [implemented](https://en.wikipedia.org/wiki/Implementation#Computer_science "Implementation"), rather than flaws in the design of the protocol or algorithm itself

LOCK: A listed custom HTTP verb (RFC 26016, section 9)
TRACE and CONNECT are standard HTTP methods defined in the RFC.
DELETE is also a standard method used to remove resources.